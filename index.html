<!DOCTYPE html>
<html lang="en-us">
  <head>
    <meta charset="UTF-8">
    <title>MozaicPass for THREE.js</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" type="text/css" href="stylesheets/normalize.css" media="screen">
    <link href='https://fonts.googleapis.com/css?family=Open+Sans:400,700' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" type="text/css" href="stylesheets/stylesheet.css" media="screen">
    <link rel="stylesheet" type="text/css" href="stylesheets/github-light.css" media="screen">

    <script type="text/javascript" src="bower_components/threejs/build/three.min.js"></script>
    <script type="text/javascript" src="bower_components/threejs/examples/js/postprocessing/EffectComposer.js"></script>
    <script type="text/javascript" src="bower_components/threejs/examples/js/postprocessing/RenderPass.js"></script>
    <script type="text/javascript" src="bower_components/threejs/examples/js/postprocessing/MaskPass.js"></script>
    <script type="text/javascript" src="bower_components/threejs/examples/js/postprocessing/ShaderPass.js"></script>
    <script type="text/javascript" src="bower_components/threejs/examples/js/shaders/CopyShader.js"></script>
    <script type="text/javascript" src="bower_components/threejs/examples/js/shaders/VignetteShader.js"></script>

    <script type="text/javascript" src="lib/MozaicShader.js"></script>
    <script type="text/javascript" src="lib/MozaicPass.js"></script>

    <script type="text/javascript" src="bower_components/threejs/examples/js/libs/dat.gui.min.js"></script>
    <script type="text/javascript" src="bower_components/tween.js/src/Tween.js"></script>

  </head>
  <body>
    <section class="page-header" id="page-header">
      <h1 class="project-name">Mozaicpass</h1>
      <h2 class="project-tagline">Mozaic (pixelate) Shader and Pass for Three.js </h2>
      <a href="https://github.com/albancreton/MozaicPass" class="btn">View on GitHub</a>
      <a href="https://github.com/albancreton/MozaicPass/zipball/master" class="btn">Download .zip</a>
      <a href="https://github.com/albancreton/MozaicPass/tarball/master" class="btn">Download .tar.gz</a>
    </section>

    <section class="main-content">
      <h3>
<a id="mozaic-pass-and-shader-for-threejs" class="anchor" href="#mozaic-pass-and-shader-for-threejs" aria-hidden="true"><span class="octicon octicon-link"></span></a>Mozaic Pass and Shader for Three.js.</h3>

<p>Simple Fragment and Effect Composer Pass for three.js to pixelate the screen.</p>

      <h4>How to ?</h4>
      <p>Download the js files, or use bower</p>
      <pre><code>
bower install MozaicPass
      </code></pre>
      <p>Include the Shader and the Pass</p>

      <pre><code>
&lt;script type="text/javascript" src="lib/MozaicShader.js"&gt;&lt;/script&gt;
&lt;script type="text/javascript" src="lib/MozaicPass.js"&gt;&lt;/script&gt;
      </code></pre>

      <p>Add Mozaic Pass to your effect composer stack</p>
      <pre><code>
var composer = new THREE.EffectComposer( renderer );

var mozaic = new THREE.MozaicPass();
mozaic.cellsize = 20;
mozaic.renderToScreen = true;

composer.addPass( mozaic );
      </code></pre>

      <h4>Demo</h4>
      <div id="demo"></div>

      <pre><code id="demo-code">
(function(){
      var el = document.getElementById('demo');

      var scene = new THREE.Scene();
      var camera = new THREE.PerspectiveCamera( 75, el.offsetWidth/el.offsetHeight, 0.1, 1000 );

      var renderer = new THREE.WebGLRenderer();
      renderer.setSize( el.offsetWidth, el.offsetHeight );
      el.appendChild( renderer.domElement );

      var geometry = new THREE.BoxGeometry( 2, 2, 2 );
      var material = new THREE.MeshBasicMaterial( { color: 0x00ff00 } );
      var cube = new THREE.Mesh( geometry, material );
      scene.add( cube );

      camera.position.z = 5;

      var composer = new THREE.EffectComposer( renderer );
      composer.addPass( new THREE.RenderPass( scene, camera ) );

      var mozaic = new THREE.MozaicPass();
      mozaic.cellsize = 10;
      mozaic.renderToScreen = true;

      composer.addPass( mozaic );

      var gui = new dat.GUI({
          height : 2 * 32 - 1,
          autoplace: false
      });
      var f1 = gui.addFolder('Mozaic effect');
      f1.add(mozaic, 'cellsize').min(1).max(50).step(1).listen();
      f1.open();

      el.appendChild(gui.domElement);

      var render = function (time) {
        requestAnimationFrame( render );

        cube.rotation.x += 0.01;
        cube.rotation.y += 0.01;

        renderer.render(scene, camera);
        composer.render(time);
      };

      render();
})()
      </code></pre>

<script type="text/javascript" id="demoscript">
(function(){
      var el = document.getElementById('demo');

      var scene = new THREE.Scene();
      var camera = new THREE.PerspectiveCamera( 75, el.offsetWidth/el.offsetHeight, 0.1, 1000 );

      var renderer = new THREE.WebGLRenderer();
      renderer.setSize( el.offsetWidth, el.offsetHeight );
      el.appendChild( renderer.domElement );

      var geometry = new THREE.BoxGeometry( 2, 2, 2 );
      var material = new THREE.MeshBasicMaterial( { color: 0x999999 } );
      var cube = new THREE.Mesh( geometry, material );
      scene.add( cube );

      camera.position.z = 5;

      var composer = new THREE.EffectComposer( renderer );
      composer.addPass( new THREE.RenderPass( scene, camera ) );

      var mozaic = new THREE.MozaicPass();
      mozaic.cellsize = 10;
      mozaic.renderToScreen = true;

      composer.addPass( mozaic );

      var gui = new dat.GUI({
          height : 2 * 32 - 1,
          autoplace: false
      });
      var f1 = gui.addFolder('Mozaic effect');
      f1.add(mozaic, 'cellsize').min(1).max(50).step(1).listen();
      f1.open();

      el.appendChild(gui.domElement);

      var render = function (time) {
        requestAnimationFrame( render );

        cube.rotation.x += 0.01;
        cube.rotation.y += 0.01;

        renderer.render(scene, camera);
        composer.render(time);
      };

      render();
})()
</script>
<script type="text/javascript" id="demoscript">
document.getElementById('demo-code').innerHTML = document.getElementById('demoscript').innerHTML;
</script>

      <footer class="site-footer">
        <span class="site-footer-owner"><a href="https://github.com/albancreton/MozaicPass">MozaicPass for Threejs</a> is maintained by <a href="http://alban.me">alban creton</a>.</span>
      </footer>

    </section>

    <script type="text/javascript" src="demo.js"></script>
    <script type="text/javascript">
        EASE_FUNCTION = TWEEN.Easing.Back.Out;
        EASE_TIME = 800;

        createCubeDemo(document.getElementById('page-header'), false);
        //createCubeDemo(document.getElementById('demo'), true);
    </script>

  </body>
</html>
